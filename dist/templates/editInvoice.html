<div>
	<h4>Izmeni postojeću fakturu</h4>
	<form class="form" name="editFaktureForm">

		Broj fakture:<span class="necesary">*</span>
			<input type="text" name="editNumber" class="form-control" ng-model="editInvoiceNumber" ng-pattern="/^(\d{1,18})$/" required>
			<span class="writeError" ng-show="editFaktureForm.editNumber.$error.pattern">Unesite do osamnaest cifri!</span><br>
		
		Poslovna godina:<span class="necesary">*</span>
			<select class="form-control" name="nameye" ng-model="editInvoiceYear" ng-options="year.Id_Poslovna_godina as year.Godina_Poslovna_godina for year in allYears" required></select><br>
		
		<div class="row">
			<div class="col-md-1">
			Poslovni partner:<span class="necesary">*</span>
			</div>
			<div class="col-sm-1">
				<button type="button" class="btn btn-success btn-xs" ui-sref="fakture.editInvoice.createPartner">
				<span class="glyphicon glyphicon-plus"></span>
				</button>
			</div>
		</div>
		<div class="row">
			<div>
				<select class="form-control" name="namepe" ng-model="editInvoicePartner" ng-options="partner.Id_Partner as partner.Naziv_Partner for partner in allPartners" required></select><br>
			</div>
		</div>

		<div class="row">
			<div class="col-md-1">
			Prijemni dokument:<span class="necesary">*</span>
			</div>
			<div class="col-sm-1">
				<button type="button" class="btn btn-success btn-xs" ui-sref="fakture.editInvoice.createWarehouseReceipt">
				<span class="glyphicon glyphicon-plus"></span>
				</button>
			</div>
		</div>
		<div class="row">
			<div>
				<select class="form-control" name="namer" ng-model="editInvoiceReceipt" ng-options="wr.Id_Prijemni_dokument as wr.Poslovna_godina.Godina_Poslovna_godina+'/'+wr.Redni_broj_Prijemni_dokument for wr in allWrs" required></select><br>
			</div>
		</div>

		Datum fakture:<span class="necesary">*</span>
			<p class="input-group" id="datetimepicker1">
				<input type="text" class="form-control" name="datefe" uib-datepicker-popup="{{format}}" ng-model="editDt1" is-open="popup1.opened" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" readonly  required/>
				<span class="input-group-btn">
					<button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
				</span>
			</p><br/>
			
		Datum valute:<span class="necesary">*</span>
			<p class="input-group">
				<input type="text" class="form-control" name="dateve" uib-datepicker-popup="{{format}}" ng-model="editDt2" is-open="popup2.opened" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" readonly  required/>
				<span class="input-group-btn">
					<button type="button" class="btn btn-default" ng-click="open2()"><i class="glyphicon glyphicon-calendar"></i></button>
				</span>
			</p><br/>
		
		Ukupan rabat:
			<input type="text" name="rabat" class="form-control" ng-model="editInvoiceRabat" ng-pattern="/^(\d{1,10}(\.\d{0,2})?)$/">
			<span class="writeError" ng-show="editFaktureForm.rabat.$error.pattern">Unesite pozivtivan broj, sa dve decimale!</span></br>
		
		Ukupan iznos bez PDV-a:<span class="necesary">*</span>
			<input type="text" name="nopdv" class="form-control" ng-model="editInvoiceIznosBezPdv" ng-pattern="/^(\d{1,10}(\.\d{0,2})?)$/" required>
			<span class="writeError" ng-show="editFaktureForm.nopdv.$error.pattern">Unesite pozivtivan broj, sa dve decimale!</span></br>
		
		Ukupan PDV:<span class="necesary">*</span>
			<input type="text" name="pdv" class="form-control" ng-model="editInvoiceTotalPdv" ng-pattern="/^(\d{1,10}(\.\d{0,2})?)$/" required>
			<span class="writeError" ng-show="editFaktureForm.pdv.$error.pattern">Unesite pozivtivan broj, sa dve decimale!</span></br>
		
		Ukupno za placanje:
			<input type="text" class="form-control" value="{{editInvoiceTotalPdv*1+1*editInvoiceIznosBezPdv | number}}" disabled><br/>


		<span class="necesaryText">Popunite obavezna polja! Oznacena su zvezdicom (*).</span></br>
		<button type="button" class="btn btn-info" data-dismiss="modal" ng-click="edit_selected_invoice()" ng-disabled="editFaktureForm.$invalid">Sačuvaj</button>
		<button type="button" class="btn btn-info" ng-click="close_edit()">Otkaži</button>
	</form>

</div>