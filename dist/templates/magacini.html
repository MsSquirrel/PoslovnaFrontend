<div>
	<h2>Magacini</h2>

	<div ng-show="currentState == 'magacini'" class="row">
		<div class="col-sm-4 col-sm-offset-1">

			<button type="button" class="btn btn-success btn-xl" ui-sref="magacini.createWarehouse">
		  		<span class="glyphicon glyphicon-plus"></span>
			</button>

			<button type="button" class="btn btn-danger btn-xl" data-toggle="modal" data-target="#confirmModal" ng-disabled="gridOptions.selection.getSelectedRows().length == 0">
		  		<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
			</button>

			<button type="button" class="btn btn-primary btn-xl" ui-sref="magacini.editWarehouse({id: selectedWarehouseId})" ng-disabled="gridOptions.selection.getSelectedRows().length == 0">
		  		<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
			</button>

			<button type="button" class="btn btn-info btn-xl" data-toggle="modal" data-target="#searchModal"><span class="glyphicon glyphicon-search"></span></button>

			<button type="button" class="btn btn-info btn-xl" ng-click="fillData()"><span class="glyphicon glyphicon-refresh"></span></button>

		</div>
	</div>

	<div class="col-md-6 col-md-offset-3 form">
		<div ui-view></div>
	</div>

	<div ng-show="currentState == 'magacini'" ui-grid="gridOptions"  ui-grid-selection ui-grid-resize-columns class="grid">
	</div>

  	<div class="modal fade" id="editModal" role="dialog">
		<div class="modal-dialog">
		   <!-- Modal content-->
  			<div class="modal-content">
	    		<div class="modal-header">
	      			<button type="button" class="close" data-dismiss="modal">&times;</button>
	      			<h4 class="modal-title">Izmeni postojeće preduzeće</h4>
	    		</div>
	    		<div class="modal-body">
	      			<form novalidate name="myForm">
						Naziv magacina: <input type="text"  name="nameme" class="form-control" ng-model="editWarehouseName" required>
						<span class="writeError" ng-show="myForm.nameme.$invalid">Obavezno polje.</span><br>
						Adresa magacina: <input type="text" name="nameae" class="form-control" ng-model="editWarehouseAddress" required>
						<span class="writeError" ng-show="myForm.nameae.$invalid">Obavezno polje.</span><br>
						Mesto:  	<select class="form-control" name="namepe" ng-options="place.Id as place.Naziv_Mesto for place in allPlaces" ng-model="editWarehousePlace" required>
									</select>
						<span class="writeError" ng-show="myForm.namepe.$invalid">Obavezno polje.</span><br>
						Preduzece:  <select class="form-control" ng-options="company.Id_Preduzece as company.Naziv_Preduzece for company in allCompanies" ng-model="editWarehouseCompany" required>
									</select>
						<span class="writeError" name="namece" ng-show="myForm.namece.$invalid">Obavezno polje.</span><br>

						<br>
						<button type="button" class="btn btn-info" data-dismiss="modal" ng-click="edit_selected_warehouse()" ng-disabled="myForm.$invalid">Sačuvaj</button>
						<button type="button" class="btn btn-info" data-dismiss="modal">Otkaži</button>
  					</form>
	    		</div>
    		</div>
  		</div>
  	</div>

  	<div class="modal fade" id="confirmModal" role="dialog">
    	<div class="modal-dialog">
   		   <!-- Modal content-->
  			<div class="modal-content">
	    		<div class="modal-header">
	      			<button type="button" class="close" data-dismiss="modal">&times;</button>
	      			<h4 class="modal-title">Potvrda brisanja</h4>
	    		</div>
	    		<div class="modal-body">
	      			<form novalidate>
						Da li si siguran da želiš da obrišeš? 

						<br><br>
						<button type="button" class="btn btn-info" data-dismiss="modal" ng-click="remove_selected_warehouse()">Da</button>
						<button type="button" class="btn btn-info" data-dismiss="modal">Ne</button>
  					</form>
	    		</div>
    		</div>
  		</div>
  	</div>	


	<div id="searchModal" class="modal fade" role="dialog">
		<div class="modal-dialog">

		    
		    <div class="modal-content">
			    <div class="modal-header">
			      	<button type="button" class="close" data-dismiss="modal">&times;</button>
			        <h4 class="modal-title">Pretraga magacina</h4>
			    </div>
			    
			    <div class="modal-body">
			    	<div id="search_div">
						Naziv: <input type="text" data-toggle="tooltip" data-placement="top" title="Unesite ceo ili deo naziva magacina." class="form-control" ng-model="search.naziv"/>
						<br/>
						Mesto:  <select class="form-control" ng-model="search.mesto">
									<option  ng-repeat="place in allPlaces" ng-value="place.Id">{{place.Naziv_Mesto}}</option></select>
					</div>
			    
			    </div>
			    <div class="modal-footer">
			    	<button type="button" class="btn btn-default" data-dismiss="modal" ng-click="search.filterData()">
			    		Search
			    	</button>
			    </div>
			</div>

		</div>
	</div>


</div>